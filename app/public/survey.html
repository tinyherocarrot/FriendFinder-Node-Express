<!DOCTYPE html>
<html>
<head>
	<title>FriendFinder</title>

	<!-- Link to Bootstrap 4 CSS-->
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0-beta/css/bootstrap.min.css" integrity="sha384-/Y6pD6FV/Vv2HJnA6t+vslU6fwYXjCFtcEpHbNJ0lyAFsXTsjBbfaDjzALeQsN6M" crossorigin="anonymous">

    <!-- Link to Bootstrap 4 JS -->
    <script src="https://code.jquery.com/jquery-3.2.1.slim.min.js" integrity="sha384-KJ3o2DKtIkvYIK3UENzmM7KCkRr/rE9/Qpg6aAZGJwFDMVNA/GpGFF93hXpG5KkN" crossorigin="anonymous"></script>
	<script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.12.3/umd/popper.min.js" integrity="sha384-vFJXuSJphROIrBnz7yo7oB41mKfc8JzQZiCq4NCceLEaO4IHwicKwpJf9c9IpFgh" crossorigin="anonymous"></script>
	<script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0-beta.2/js/bootstrap.min.js" integrity="sha384-alpBpkh1PFOepccYVYDB4do5UnbKysX5WZXm3XxPqe5iKTfUKjNkCk9SaVuEZflJ" crossorigin="anonymous"></script>

	<!-- Link to Google Fonts -->
    <link href="https://fonts.googleapis.com/css?family=Lato" rel="stylesheet">

	<!-- Link to Stylesheet -->
	<link rel="stylesheet" type="text/css" href="css/style.css">

    <!--Let browser know website is optimized for mobile-->
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />

</head>
<body>
	<!-- Friend Modal -->
	<div class="modal fade" id="friendModal" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel" aria-hidden="true">
	  <div class="modal-dialog" role="document">
	    <div class="modal-content">
	      <div class="modal-header">
	        <h5 class="modal-title" id="exampleModalLabel">Your New Best Friend</h5>
	        <button type="button" class="close" data-dismiss="modal" aria-label="Close">
	          <span aria-hidden="true">&times;</span>
	        </button>
	      </div>
	      <div class="modal-body">
	        <div> <h4 id="match-name"></h4> </div>
	        <img class="thumbnail" id="match-photo"> 
	      </div>
	      <div class="modal-footer">
	        <button type="button" class="btn btn-secondary" data-dismiss="modal">Close</button>
	      </div>
	    </div>
	  </div>
	</div>

	<div class="jumbotron">
		<div class="container">
			<span></span> <h1>Friend Finder</h1><br>

			<h3>Answer a few questions... <br> Then find your most compatible friend!</h3><br>
		</div>
	</div>

	<div class="container">
		<form>
			<!-- Name and Picture input -->
			<div class="form-group">
			    <label for="userName">Name</label>
			    <input type="text" class="form-control" id="userName" aria-describedby="emailHelp" placeholder="Enter your name">
			</div>
			<div class="form-group">
			    <label for="userPhoto">Photo</label>
			    <input type="url" class="form-control" id="userPhoto" placeholder="Link to photo">
			</div>

			<hr>

		<!-- Question 1 -->
			<fieldset class="form-group" id="q1">
			    <legend>1. I see myself as extraverted, enthusiastic.</legend>
			    <div class="form-check">
			      <label class="form-check-label">
			        <input type="radio" class="form-check-input" name="optionsRadios1" id="optionsRadios1" value=1>
			        strongly disagree
			      </label>
			    </div>
			    <div class="form-check">
			      <label class="form-check-label">
			        <input type="radio" class="form-check-input" name="optionsRadios1" id="optionsRadios1" value=2>
			        somewhat disagree
			      </label>
			    </div>
			    <div class="form-check">
			      <label class="form-check-label">
			        <input type="radio" class="form-check-input" name="optionsRadios1" id="optionsRadios1" value=3 checked>
			        neutral 
			      </label>
			    </div>
			    <div class="form-check">
			      <label class="form-check-label">
			        <input type="radio" class="form-check-input" name="optionsRadios1" id="optionsRadios1" value=4>
			        somewhat agree
			      </label>
			    </div>
			    <div class="form-check">
			      <label class="form-check-label">
			        <input type="radio" class="form-check-input" name="optionsRadios1" id="optionsRadios1" value=5>
			        strongly agree
			      </label>
			    </div>
			</fieldset>

		<!-- Question 2 -->
			<fieldset class="form-group" id="q2">
			    <legend>2. I see myself as critical, quarrelsome.</legend>
			    <div class="form-check">
			      <label class="form-check-label">
			        <input type="radio" class="form-check-input" name="optionsRadios2" id="optionsRadios2" value=1>
			        strongly disagree
			      </label>
			    </div>
			    <div class="form-check">
			      <label class="form-check-label">
			        <input type="radio" class="form-check-input" name="optionsRadios2" id="optionsRadios2" value=2>
			        somewhat disagree
			      </label>
			    </div>
			    <div class="form-check">
			      <label class="form-check-label">
			        <input type="radio" class="form-check-input" name="optionsRadios2" id="optionsRadios2" value=3 checked>
			        neutral 
			      </label>
			    </div>
			    <div class="form-check">
			      <label class="form-check-label">
			        <input type="radio" class="form-check-input" name="optionsRadios2" id="optionsRadios2" value=4>
			        somewhat agree
			      </label>
			    </div>
			    <div class="form-check">
			      <label class="form-check-label">
			        <input type="radio" class="form-check-input" name="optionsRadios2" id="optionsRadios2" value=5>
			        strongly agree
			      </label>
			    </div>
			</fieldset>

		<!-- Question 3 -->
			<fieldset class="form-group" id="q3">
			    <legend>3. I see myself as dependable, self-disciplined.</legend>
			    <div class="form-check">
			      <label class="form-check-label">
			        <input type="radio" class="form-check-input" name="optionsRadios3" id="optionsRadios3" value=1>
			        strongly disagree
			      </label>
			    </div>
			    <div class="form-check">
			      <label class="form-check-label">
			        <input type="radio" class="form-check-input" name="optionsRadios3" id="optionsRadios3" value=2>
			        somewhat disagree
			      </label>
			    </div>
			    <div class="form-check">
			      <label class="form-check-label">
			        <input type="radio" class="form-check-input" name="optionsRadios3" id="optionsRadios3" value=3 checked>
			        neutral 
			      </label>
			    </div>
			    <div class="form-check">
			      <label class="form-check-label">
			        <input type="radio" class="form-check-input" name="optionsRadios3" id="optionsRadios3" value=4>
			        somewhat agree
			      </label>
			    </div>
			    <div class="form-check">
			      <label class="form-check-label">
			        <input type="radio" class="form-check-input" name="optionsRadios3" id="optionsRadios3" value=5>
			        strongly agree
			      </label>
			    </div>
			</fieldset>			

		<!-- Question 4 -->
			<fieldset class="form-group" id="q4">
			    <legend>4. I see myself as anxious, easily upset.</legend>
			    <div class="form-check">
			      <label class="form-check-label">
			        <input type="radio" class="form-check-input" name="optionsRadios4" id="optionsRadios3" value=1>
			        strongly disagree
			      </label>
			    </div>
			    <div class="form-check">
			      <label class="form-check-label">
			        <input type="radio" class="form-check-input" name="optionsRadios4" id="optionsRadios3" value=2>
			        somewhat disagree
			      </label>
			    </div>
			    <div class="form-check">
			      <label class="form-check-label">
			        <input type="radio" class="form-check-input" name="optionsRadios4" id="optionsRadios3" value=3 checked>
			        neutral 
			      </label>
			    </div>
			    <div class="form-check">
			      <label class="form-check-label">
			        <input type="radio" class="form-check-input" name="optionsRadios4" id="optionsRadios3" value=4>
			        somewhat agree
			      </label>
			    </div>
			    <div class="form-check">
			      <label class="form-check-label">
			        <input type="radio" class="form-check-input" name="optionsRadios4" id="optionsRadios3" value=5>
			        strongly agree
			      </label>
			    </div>
			</fieldset>	

		<!-- Question 5 -->
			<fieldset class="form-group" id="q5">
			    <legend>5. I see myself as open to new experiences, complex.</legend>
			    <div class="form-check">
			      <label class="form-check-label">
			        <input type="radio" class="form-check-input" name="optionsRadios5" id="optionsRadios3" value=1>
			        strongly disagree
			      </label>
			    </div>
			    <div class="form-check">
			      <label class="form-check-label">
			        <input type="radio" class="form-check-input" name="optionsRadios5" id="optionsRadios3" value=2>
			        somewhat disagree
			      </label>
			    </div>
			    <div class="form-check">
			      <label class="form-check-label">
			        <input type="radio" class="form-check-input" name="optionsRadios5" id="optionsRadios3" value=3 checked>
			        neutral 
			      </label>
			    </div>
			    <div class="form-check">
			      <label class="form-check-label">
			        <input type="radio" class="form-check-input" name="optionsRadios5" id="optionsRadios3" value=4>
			        somewhat agree
			      </label>
			    </div>
			    <div class="form-check">
			      <label class="form-check-label">
			        <input type="radio" class="form-check-input" name="optionsRadios5" id="optionsRadios3" value=5>
			        strongly agree
			      </label>
			    </div>
			</fieldset>	

		<!-- Question 6 -->
			<fieldset class="form-group" id="q6">
			    <legend>6. I see myself as reserved, quiet.</legend>
			    <div class="form-check">
			      <label class="form-check-label">
			        <input type="radio" class="form-check-input" name="optionsRadios6" id="optionsRadios3" value=1>
			        strongly disagree
			      </label>
			    </div>
			    <div class="form-check">
			      <label class="form-check-label">
			        <input type="radio" class="form-check-input" name="optionsRadios6" id="optionsRadios3" value=2>
			        somewhat disagree
			      </label>
			    </div>
			    <div class="form-check">
			      <label class="form-check-label">
			        <input type="radio" class="form-check-input" name="optionsRadios6" id="optionsRadios3" value=3 checked>
			        neutral 
			      </label>
			    </div>
			    <div class="form-check">
			      <label class="form-check-label">
			        <input type="radio" class="form-check-input" name="optionsRadios6" id="optionsRadios3" value=4>
			        somewhat agree
			      </label>
			    </div>
			    <div class="form-check">
			      <label class="form-check-label">
			        <input type="radio" class="form-check-input" name="optionsRadios6" id="optionsRadios3" value=5>
			        strongly agree
			      </label>
			    </div>
			</fieldset>	

		<!-- Question 7 -->
			<fieldset class="form-group" id="q7">
			    <legend>7. I see myself as sympathetic, warm.</legend>
			    <div class="form-check">
			      <label class="form-check-label">
			        <input type="radio" class="form-check-input" name="optionsRadios7" id="optionsRadios3" value=1>
			        strongly disagree
			      </label>
			    </div>
			    <div class="form-check">
			      <label class="form-check-label">
			        <input type="radio" class="form-check-input" name="optionsRadios7" id="optionsRadios3" value=2>
			        somewhat disagree
			      </label>
			    </div>
			    <div class="form-check">
			      <label class="form-check-label">
			        <input type="radio" class="form-check-input" name="optionsRadios7" id="optionsRadios3" value=3 checked>
			        neutral 
			      </label>
			    </div>
			    <div class="form-check">
			      <label class="form-check-label">
			        <input type="radio" class="form-check-input" name="optionsRadios7" id="optionsRadios3" value=4>
			        somewhat agree
			      </label>
			    </div>
			    <div class="form-check">
			      <label class="form-check-label">
			        <input type="radio" class="form-check-input" name="optionsRadios7" id="optionsRadios3" value=5>
			        strongly agree
			      </label>
			    </div>
			</fieldset>

		<!-- Question 8 -->
			<fieldset class="form-group" id="q8">
			    <legend>8. I see myself as disorganized, careless.</legend>
			    <div class="form-check">
			      <label class="form-check-label">
			        <input type="radio" class="form-check-input" name="optionsRadios8" id="optionsRadios3" value=1>
			        strongly disagree
			      </label>
			    </div>
			    <div class="form-check">
			      <label class="form-check-label">
			        <input type="radio" class="form-check-input" name="optionsRadios8" id="optionsRadios3" value=2>
			        somewhat disagree
			      </label>
			    </div>
			    <div class="form-check">
			      <label class="form-check-label">
			        <input type="radio" class="form-check-input" name="optionsRadios8" id="optionsRadios3" value=3 checked>
			        neutral 
			      </label>
			    </div>
			    <div class="form-check">
			      <label class="form-check-label">
			        <input type="radio" class="form-check-input" name="optionsRadios8" id="optionsRadios3" value=4>
			        somewhat agree
			      </label>
			    </div>
			    <div class="form-check">
			      <label class="form-check-label">
			        <input type="radio" class="form-check-input" name="optionsRadios8" id="optionsRadios3" value=5>
			        strongly agree
			      </label>
			    </div>
			</fieldset>	

		<!-- Question 9 -->
			<fieldset class="form-group" id="q9">
			    <legend>9. I see myself as calm, emotionally stable.</legend>
			    <div class="form-check">
			      <label class="form-check-label">
			        <input type="radio" class="form-check-input" name="optionsRadios9" id="optionsRadios3" value=1>
			        strongly disagree
			      </label>
			    </div>
			    <div class="form-check">
			      <label class="form-check-label">
			        <input type="radio" class="form-check-input" name="optionsRadios9" id="optionsRadios3" value=2>
			        somewhat disagree
			      </label>
			    </div>
			    <div class="form-check">
			      <label class="form-check-label">
			        <input type="radio" class="form-check-input" name="optionsRadios9" id="optionsRadios3" value=3 checked>
			        neutral 
			      </label>
			    </div>
			    <div class="form-check">
			      <label class="form-check-label">
			        <input type="radio" class="form-check-input" name="optionsRadios9" id="optionsRadios3" value=4>
			        somewhat agree
			      </label>
			    </div>
			    <div class="form-check">
			      <label class="form-check-label">
			        <input type="radio" class="form-check-input" name="optionsRadios9" id="optionsRadios3" value=5>
			        strongly agree
			      </label>
			    </div>
			</fieldset>	

		<!-- Question 10 -->
			<fieldset class="form-group" id="q10">
			    <legend>10. I see myself as conventional, uncreative.</legend>
			    <div class="form-check">
			      <label class="form-check-label">
			        <input type="radio" class="form-check-input" name="optionsRadios10" id="optionsRadios3" value=1>
			        strongly disagree
			      </label>
			    </div>
			    <div class="form-check">
			      <label class="form-check-label">
			        <input type="radio" class="form-check-input" name="optionsRadios10" id="optionsRadios3" value=2>
			        somewhat disagree
			      </label>
			    </div>
			    <div class="form-check">
			      <label class="form-check-label">
			        <input type="radio" class="form-check-input" name="optionsRadios10" id="optionsRadios3" value=3 checked>
			        neutral 
			      </label>
			    </div>
			    <div class="form-check">
			      <label class="form-check-label">
			        <input type="radio" class="form-check-input" name="optionsRadios10" id="optionsRadios3" value=4>
			        somewhat agree
			      </label>
			    </div>
			    <div class="form-check">
			      <label class="form-check-label">
			        <input type="radio" class="form-check-input" name="optionsRadios10" id="optionsRadios3" value=5>
			        strongly agree
			      </label>
			    </div>
			</fieldset>	

		</form>
		
		<!-- <br> -->

		<button class="btn btn-success" id="submit-survey" data-toggle="modal" data-target="#friendModal">Submit</button>
		
	</div>

	<footer class="footer">
      <div class="container">
        <div class="text-center text-muted">&copy; Andrew Huang 2017</div>
      </div>
    </footer>


	<script type="text/javascript" src="../../server.js"></script>
	<script type="text/javascript" src="../routing/htmlRoutes.js"></script>
	<script type="text/javascript" src="../routing/apiRoutes.js"></script>
	<script type="text/javascript" src="../data/friends.js"></script>

	<!-- Link to JQuery -->
	<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.1.0/jquery.min.js"></script>

	<script type="text/javascript"> 

		$('#submit-survey').on('click', () => {

			// allow form submission on ENTER
			event.preventDefault();
		 
		 	// compile form data into an array
			var scoresArr=[];
			for (var i = 1; i < 11; i++) {
				scoresArr.push(parseInt($(`input[name='optionsRadios${i}']:checked`).val()))
			}


			// define newFriend object with inputed name, photo, and scores
			var newFriend = {
			  	name: $('#userName').val(),
			  	photo: $('#userPhoto').val(),
			  	scores: scoresArr
			}


			console.log(newFriend);

			// post newFriend via route defined  in apiRoute
		    //here, data is the closestMatch.person obj
			$.post("/api/friends", newFriend, function(data) {
				// NOTE: THIS CONSOLE LOG WILL ONLY APPEAR IN DEV TOOLS, NOT IN GIT BASH LOG
		        console.log("after a post");

		        // alert(JSON.stringify(data));
				// display recieved data to DOM in a BS4 modal HERE
				console.log(data.name, data.photo);
				$('#match-name').text(data.name);
				$('#match-photo').attr('src', data.photo);


		    });
			
		})

	</script>
</body>
</html>